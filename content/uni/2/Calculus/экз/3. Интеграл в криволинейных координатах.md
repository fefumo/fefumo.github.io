---
tags:
  - uni
---

### Криволинейные координаты на плоскости, связь с декартовыми. Вывод формулы якобиана.
Пусть задана криволинейная система координат на плоскости:
$$
\begin{cases}
x=x(u,v) \\
y=y(u,v)
\end{cases}
$$
$\sqsupset$ Данные функции непрерывно дифференциируемы.
![[Pasted image 20250110194623.png]]
Слева есть область $D$ в декартовых. Справа мы её рисуем (область $D^{^\prime}$) в распрямлённых криволинейных координатах, и разбиваем некоторой сеткой (линии, параллельные осям $u, v$). Слева показано, как эти линии вылядят до распрямления (некоторые кривые). 

До распрямления нужный кусочек, площадь которого хотим найти, указан как $\Delta\varsigma$

Выразим его через $du, dv$, для этого отметим точки пересечения:
![[Jakobian.png]]
Получим:
$$
A^{^\prime}(x_{1},y_{1}), \quad x_{1} = x(u,v),\quad y_{1} = y(u,v)
$$
$$
B^{^\prime}(x_{2},y_{2}), \quad x_{2} = x(u+du,v),\quad y_{2} = y(u+du,v)
$$
$$
C^{^\prime}(x_{3},y_{3}), \quad x_{3} = x(u+du,v+dv),\quad y_{3} = y(u+du,v+dv)
$$
$$
E^{^\prime}(x_{4},y_{4}), \quad x_{4} = x(u,v+dv),\quad y_{4} = y(u,v+dv)
$$
Допущения:
1) Криволинейный параллелограмм приблизим прямым
2) Пренебрежём бескончено малыми порядка 2 и выше 
Получим (значения в точках на декартовой координатной плоскости):
$\tilde x_1 = x(u,v)$
$\tilde x_2 = x(u,v) + \frac{\partial x}{\partial u}du$
$\tilde x_3 = x(u,v) + \frac{\partial x}{\partial u}du + \frac{\partial x}{\partial v}dv$
$\tilde x_4 = x(u,v) + \frac{\partial x}{\partial v}dv$
$\tilde y_1 = y(u,v)$
$\tilde y_2 = y(u,v) + \frac{\partial y}{\partial u}du$
$\tilde y_3 = y(u,v) + \frac{\partial y}{\partial u}du + \frac{\partial y}{\partial v}dv$

Теперь мы можем найти площадь параллелограмма через векторное произведение:
![[Pasted image 20250110202138.png]]
$$
S_{ABCE} = 2S_{ABC} = 2\cdot \frac{1}{2} |\vec{BC}\times \vec{AC}| = |\begin{vmatrix} \vec{i} & \vec{j} & \vec{k} \\ \tilde x_3 - \tilde x_2 & \tilde y_3 - \tilde y_2 & 0 \\ \tilde x_3 - \tilde x_1 & \tilde y_3 - \tilde y_1 & 0 \end{vmatrix}| = 
$$

$$
= |\vec{k}|\cdot |\begin{vmatrix}
\frac{dx}{dv}dv& \frac{dy}{dv}dv \\
\frac{dx}{du}du+\frac{dx}{dv}dv & \frac{dy}{du}du + \frac{dy}{dv}dv
\end{vmatrix} |= 
$$
Промежуточное пояснение: в последнем переходе мы раскрыли определитель третьего порядка по первой строке, но поскольку в 3 столбце у нас нули, то остался только минор по $\vec{k}$. Также мы подставили ранее выведенные значения для приближенных координат. Продолжаем преобразования — раскрываем определитель и модуль (помним, что $|\vec{k}|=1$ как модуль единичного вектора):
$$
=\left| \frac{dx}{dv}dv\left( \frac{dy}{du}du+\frac{dy}{dv}dv \right) - \frac{dy}{dv}dv\left( \frac{dx}{du}du + \frac{dx}{dv}dv \right)\right|=
$$
Сокращаем $\frac{dy}{dv}dv$
$$
=\left|\frac{\partial x}{\partial u}du\frac{\partial y}{\partial v}dv-\frac{\partial x}{\partial v}dv\frac{\partial y}{\partial u}du\right|=\underbrace{\left|\frac{\partial x}{\partial v}\frac{\partial y}{\partial u}-\frac{\partial x}{\partial u}\frac{\partial y}{\partial v}\right|}_\text{Поменяли местами}|dudv|=
$$
пусть $|dudv|\geq {0}$, а первый множитель свернём в опеределитель:
$$
=\left|\underbrace{\begin{vmatrix} \frac{\partial x}{\partial u} & \frac{\partial x}{\partial v} \\ \frac{\partial y}{\partial u} & \frac{\partial y}{\partial v} \end{vmatrix}}_{\text{Якобиан} \ \mathcal{J}}\right|dudv=|\mathcal{J}|\underbrace{dudv}_{d\sigma'}
$$
Получили:
$\Delta\sigma \approx d\sigma = |\mathcal{J}|d\sigma'$
При этом важно, что $dxdy \neq |\mathcal{J}|dudv$. Причина для этого была объяснена для полярных координат, ну а здесь она такая же.
Также якобиан можем найти как:
$\lim\limits_{\lambda\to 0} \frac{\Delta\sigma}{\Delta\sigma'} = |\mathcal{J}|$
### Двойной интеграл в криволинейных координатах. 
Пусть $f(x,y)$ непрерывна в области D, и задана криволинейная система координат:
$$
\begin{cases}
x=x(u,v) \\
y=y(u,v)
\end{cases}
$$
Тогда двойной интеграл будет:
$$
\iint_\limits{D}f(x,y)dxdy = \iint_\limits{D^*}f(x(u,v),y(u,v))|\mathcal{J}|dudv
$$
где
$$
|\mathcal{J}| = \begin{vmatrix}
\frac{dx}{du} & \frac{dx}{dv} \\
\frac{dy}{du} & \frac{dy}{dv}
\end{vmatrix}
$$
### Якобиан полярной системы координат. 
$$
\begin{cases}
x=\rho \cos \varphi \\
y =\rho \sin \varphi
\end{cases}
$$
$$
\mathcal{J} =
\begin{vmatrix}
\frac{dx}{d\rho} & \frac{dx}{d\varphi}  \\
\frac{dy}{d\rho} & \frac{dy}{d\varphi}
\end{vmatrix} =
\begin{vmatrix}
\cos \varphi & -\rho \sin \varphi \\
\sin \varphi & \rho \cos \varphi
\end{vmatrix} = 
\rho \cos^2\varphi + \rho \sin^2\varphi = \rho
$$
Получили тот самый поправочный коэффициент в полярных координатах!
###### Пример (якобиан для $\mathbb{R}^3$})
$\begin{cases} x=x(\xi,\eta,\zeta) \\ y=y(\xi,\eta,\zeta) \\ z=z(\xi,\eta,\zeta) \end{cases}$
$\mathcal{J}=\begin{vmatrix} \frac{\partial x}{\partial \xi} & \frac{\partial x}{\partial \eta} & \frac{\partial x}{\partial \zeta} \\ \frac{\partial y}{\partial \xi} & \frac{\partial y}{\partial \eta} & \frac{\partial y}{\partial \zeta} \\ \frac{\partial z}{\partial \xi} & \frac{\partial z}{\partial \eta} & \frac{\partial z}{\partial \zeta} \end{vmatrix}$
$d\sigma=|\mathcal{J}|d\xi d\eta d\zeta$
$dxdydz \neq |\mathcal{J}|d\xi d\eta d\zeta$

### Тройной интеграл в криволинейных координатах.
Криволинейные координаты:
$$
\begin{cases}
x = x(\xi,\eta,\zeta) \\
y = y(\xi,\eta,\zeta) \\
z = z(\xi,\eta,\zeta)
\end{cases}
$$
Каждой точке декартовой системы координат соответствует точка криволинейной: $M(x,y,z) \to M^{^\prime}(\psi,\eta,\zeta)$
$$
\lim_{ \lambda \to 0 } \frac{\Delta V}{\Delta V^{^\prime}}=|\mathcal{J}|
$$
$$
\Delta V = \mathcal{J} \Delta V^{^\prime}= \mathcal{J}d \xi d \eta d \zeta
$$
$$
\mathcal{J} = \begin{vmatrix}
x^{^\prime}_{\xi} & x^{^\prime}_{\eta} & x^{^\prime}_{\zeta} \\
y^{^\prime}_{\xi} & y^{^\prime}_{\eta} & y^{^\prime}_{\zeta} \\
z^{^\prime}_{\xi} & z^{^\prime}_{\eta} & z^{^\prime}_{\zeta}
\end{vmatrix}
$$
$$
f(x,y,z) = f(x(\xi,\eta,\zeta), y(\xi,\eta,\zeta),z(\xi,\eta,\zeta)) = F(\xi,\eta,\zeta)
$$
$$
\iiint_\limits{V^{^\prime}}F(\xi,\eta,\zeta)|\mathcal{J}|\cdot d\xi d \eta d \zeta
$$
### Якобиан цилиндрических и сферических координат.
Цилиндрические координаты
$$
\begin{cases}
x = \rho \cos \varphi \\
y = \rho \sin \varphi \\
z= z
\end{cases}
$$
$$
\mathcal{J} = \begin{vmatrix}
-\rho \sin \varphi & \cos \varphi & 0 \\
\rho \cos\varphi & \sin \varphi & 0 \\
0 & 0 & 1 
\end{vmatrix}
=
\begin{vmatrix}
-\rho \sin \varphi & \cos \varphi \\
\rho \cos\varphi & \sin \varphi
\end{vmatrix}
=
-\rho \sin^2\phi-\rho \cos^2\varphi = -\rho
$$
$$
|\mathcal{J}| = \rho
$$
Сферические координаты
$$
\begin{cases}
x = r\cos \varphi \sin \theta \\
y = r \sin \varphi \sin \theta \\
z = r\cos \theta
\end{cases}
$$
$(\phi,\rho,\theta)$
$$
\mathcal{J}=\begin{vmatrix}
-r\sin \varphi \sin \theta & r\cos \varphi \cos \theta &\cos \varphi \sin \theta \\
r\cos \varphi \sin \theta & r\sin \varphi \cos \theta & \sin \varphi \sin \theta \\
0 & -r\sin \theta & \cos \theta
\end{vmatrix} = $$
$$
= \cos \theta (-r^2\sin^2\varphi \sin \theta \cos \theta - r^2\cos^2\sin \theta \cos \theta) + r\sin \theta(-r\sin^2\phi \cos^2\theta - r\cos^2\varphi \sin^2\theta)=
$$
$$
= -r^2\sin \theta \cos^2\theta - r\sin^3\theta = -r^2\sin \theta
$$
$$
|\mathcal{J}| =|-r^2\sin \theta| = r^2|\sin \theta| = r^2\sin \theta,\quad \theta \in [0;2\pi]
$$
